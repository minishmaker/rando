#ifdef pedestalItems
	#ifndef openDHC
		#define openDHC
	#endif
#endif

#ifdef openDHC 
	#undef noDHC
#endif

#ifdef noDHC 
	#undef openDHC
#endif

#ifndef pedestalSpot1Item
	#define pedestalSpot1Item "0x01"
#endif
#ifndef pedestalSpot1Sub
	#define pedestalSpot1Sub "0x00"
#endif
#ifndef pedestalSpot2Item
	#define pedestalSpot2Item "0x01"
#endif
#ifndef pedestalSpot2Sub
	#define pedestalSpot2Sub "0x00"
#endif
#ifndef pedestalSpot3Item
	#define pedestalSpot3Item "0x01"
#endif
#ifndef pedestalSpot3Sub
	#define pedestalSpot3Sub "0x00"
#endif

#ifdef requirementFigurinesAmmount
	#define counterOption
#endif

//sanctuary fixes
PUSH; ORG $4E98E; SHORT 0; POP //sanctuary garden door always open
PUSH; ORG $F4A9C; BYTE 0xFF; ORG $F4C18; POIN $F4AAC; POP//sanctuary switches door never closes

//remove wind element from pedestal animation
PUSH; ORG $13EDC; POIN $670402; POP

#ifndef noDHC
//remove the stained glass scene
PUSH; ORG $532F6; SHORT 0x2310; POP
#else
//jump to credits on the stained glass
PUSH; ORG $532F4; jumpToHack(pedestalWin); POP
ALIGN 4
pedestalWin:
#incbin "asm/pedestalWin.dmp"
#endif

//logic for pedestal pulls
#ifdef pedestalItems
PUSH; ORG $4E9F4; jumpToHack(pedestalItemsPull); POP
ALIGN 4
pedestalItemsPull:
#incbin "asm/pedestalItemsPull.dmp"
POIN pedestalearth
POIN pedestalfire
POIN pedestalwater
POIN pedestalwind
#else
PUSH; ORG $4E9F4; jumpToHack(pedestalPull); POP
ALIGN 4
pedestalPull:
#incbin "asm/pedestalPull.dmp"
POIN requirementTable
POIN defaultRequirement
POIN pedestalearth
POIN pedestalfire
POIN pedestalwater
POIN pedestalwind
#endif

ALIGN 4
pedestalearth:
BYTE 6 0x4F 0x6A 0x1C; SHORT 0 0 0x0B0 0x0F8; WORD 0x8013F00
WORD 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF

ALIGN 4
pedestalfire:
BYTE 6 0x4F 0x6A 0x1C; SHORT 0 0 0x120 0x0F8; WORD 0x8013F1C
WORD 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF

ALIGN 4
pedestalwater:
BYTE 6 0x4F 0x6A 0x1C; SHORT 0 0 0x120 0x168; WORD 0x8013F38
WORD 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF

ALIGN 4
pedestalwind:
BYTE 6 0x4F 0x6A 0x1C; SHORT 0 0 0x0B0 0x168; WORD 0x8013F54
WORD 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF

ALIGN 4
requirementTable:
#ifdef requirementElementsAmmount
POIN requirementElementsASM
#endif
#ifdef requirementSwordTier
POIN requirementSwordTierASM
#endif
#ifdef requirementFigurinesAmmount
POIN requirementFigurinesASM
#endif
#ifdef requirementDungeonsAmmount
POIN requirementDungeonsASM
#endif
WORD 0 //terminator

#ifdef requirementElementsAmmount
ALIGN 4
requirementElementsASM:
#incbin "asm/pedestalRequirements/requirementElementsASM.dmp"
WORD requirementElementsAmmount
#endif

#ifdef requirementSwordTier
ALIGN 4
requirementSwordTierASM:
#incbin "asm/pedestalRequirements/requirementSwordTierASM.dmp"
WORD requirementSwordTier
#endif

#ifdef requirementFigurinesAmmount
ALIGN 4
requirementFigurinesASM:
#incbin "asm/pedestalRequirements/requirementFigurinesASM.dmp"
WORD requirementFigurinesAmmount
requirementFigurinesCounter:
#incbin "asm/pedestalRequirements/requirementFigurinesCounter.dmp"
#endif

#ifdef requirementDungeonsAmmount
ALIGN 4
requirementDungeonsASM:
#incbin "asm/pedestalRequirements/requirementDungeonsASM.dmp"
WORD requirementDungeonsAmmount
#endif

ALIGN 4
defaultRequirement:
#incbin "asm/pedestalElements.dmp"

#ifdef pedestalItems
//do not equip swords when pulled, also set flags
PUSH; ORG $7EC68; jumpToHack(pedestalItemsNoEquip); POP
ALIGN 4
pedestalItemsNoEquip:
#incbin "asm/pedestalItemsNoEquip.dmp"
#else
//do not equip four sword when pulled
PUSH; ORG $7EC68; jumpToHack(pedestalNoEquip); POP
ALIGN 4
pedestalNoEquip:
#incbin "asm/pedestalNoEquip.dmp"
#endif

//sanctuary pedestal pull check
PUSH; ORG $AE844; jumpToHack(pedestalSanctuary); POP
ALIGN 4
pedestalSanctuary:
#incbin "asm/pedestalSanctuary.dmp"

//hyrule garden pedestal pull check, also blocks the entrance if the flag isn't set
PUSH; ORG $AE81C; jumpToHack(pedestalGarden); POP
ALIGN 4
pedestalGarden:
#incbin "asm/pedestalGarden.dmp"
POIN dhcBlocker
#ifdef openDHC
WORD 1
#else
WORD 0
#endif
ALIGN 4
dhcBlocker:
BYTE 6 0xF 0x4D 0x38 0 0; SHORT 0 0x1F8 0x24 0 0
WORD 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF 0xFFFFFFFF

//hyrule garden basement pedestal pull check
PUSH; ORG $4BA1C; jumpToHack(pedestalBasement); POP
ALIGN 4
pedestalBasement:
#incbin "asm/pedestalBasement.dmp"

//new tingle tv graphics
PUSH
ORG $625C30
#incbin "dhcBlocker.img.bin"
POP

//new tingle tv palette
PUSH
ORG $5A4510
#incbin "dhcBlocker.pal.bin"
POP
